import { motion } from 'framer-motion';
import { useEffect, useRef, useState } from 'react';
import { useTranslation } from 'react-i18next';
import logo from '../../assets/images/logo.jpeg';
import './TechOrbit.css';

// Tech stack with real SVG icons
const techStack = [
  // Inner orbit - Frontend
  {
    name: 'React',
    orbit: 1,
    speed: 20,
    color: '#61DAFB',
    svg: '<svg viewBox="0 0 24 24" fill="#61DAFB"><path d="M12 10.11c1.03 0 1.87.84 1.87 1.89 0 1-.84 1.85-1.87 1.85S10.13 13 10.13 12c0-1.05.84-1.89 1.87-1.89M7.37 20c.63.38 2.01-.2 3.6-1.7-.52-.59-1.03-1.23-1.51-1.9a22.7 22.7 0 0 1-2.4-.36c-.51 2.14-.32 3.61.31 3.96m.71-5.74l-.29-.51c-.11.29-.22.58-.29.86.27.06.57.11.88.16l-.3-.51m6.54-.76l.81-1.5-.81-1.5c-.3-.53-.62-1-.91-1.47C13.17 9 12.6 9 12 9c-.6 0-1.17 0-1.71.03-.29.47-.61.94-.91 1.47L8.57 12l.81 1.5c.3.53.62 1 .91 1.47.54.03 1.11.03 1.71.03.6 0 1.17 0 1.71-.03.29-.47.61-.94.91-1.47M12 6.78c-.19.22-.39.45-.59.72h1.18c-.2-.27-.4-.5-.59-.72m0 10.44c.19-.22.39-.45.59-.72h-1.18c.2.27.4.5.59.72M16.62 4c-.62-.38-2 .2-3.59 1.7.52.59 1.03 1.23 1.51 1.9.82.08 1.63.2 2.4.36.51-2.14.32-3.61-.32-3.96m-.7 5.74l.29.51c.11-.29.22-.58.29-.86-.27-.06-.57-.11-.88-.16l.3.51m1.45-7.05c1.47.84 1.63 3.05 1.01 5.63 2.54.75 4.37 1.99 4.37 3.68s-1.83 2.93-4.37 3.68c.62 2.58.46 4.79-1.01 5.63-1.46.84-3.45-.12-5.37-1.95-1.92 1.83-3.91 2.79-5.38 1.95-1.46-.84-1.62-3.05-1-5.63-2.54-.75-4.37-1.99-4.37-3.68s1.83-2.93 4.37-3.68c-.62-2.58-.46-4.79 1-5.63 1.47-.84 3.46.12 5.38 1.95 1.92-1.83 3.91-2.79 5.37-1.95M17.08 12c.34.75.64 1.5.89 2.26 2.1-.63 3.28-1.53 3.28-2.26s-1.18-1.63-3.28-2.26c-.25.76-.55 1.51-.89 2.26M6.92 12c-.34-.75-.64-1.5-.89-2.26-2.1.63-3.28 1.53-3.28 2.26s1.18 1.63 3.28 2.26c.25-.76.55-1.51.89-2.26m9 2.26l-.3.51c.31-.05.61-.1.88-.16-.07-.28-.18-.57-.29-.86l-.29.51m-2.89 4.04c1.59 1.5 2.97 2.08 3.59 1.7.64-.35.83-1.82.32-3.96-.77.16-1.58.28-2.4.36-.48.67-.99 1.31-1.51 1.9M8.08 9.74l.3-.51c-.31.05-.61.1-.88.16.07.28.18.57.29.86l.29-.51m2.89-4.04C9.38 4.2 8 3.62 7.37 4c-.63.35-.82 1.82-.31 3.96a22.7 22.7 0 0 1 2.4-.36c.48-.67.99-1.31 1.51-1.9z"/></svg>'
  },
  {
    name: 'Vue.js',
    orbit: 1,
    speed: 25,
    color: '#42b883',
    svg: '<svg viewBox="0 0 24 24" fill="#42b883"><path d="M2 3h3.5L12 15l6.5-12H22L12 21zm4.5 0h3L12 7.58 14.5 3h3L12 13.08z"/></svg>'
  },
  {
    name: 'TypeScript',
    orbit: 1,
    speed: 18,
    color: '#3178C6',
    svg: '<svg viewBox="0 0 24 24" fill="#3178C6"><path d="M3 3h18v18H3V3zm10.71 14.86c.5.98 1.51 1.73 3.09 1.73 1.6 0 2.8-.83 2.8-2.36 0-1.41-.81-2.04-2.25-2.66l-.42-.18c-.73-.31-1.04-.51-1.04-1.02 0-.4.31-.71.81-.71.5 0 .81.21 1.11.71l1.2-.77c-.5-.88-1.21-1.21-2.31-1.21-1.41 0-2.32.9-2.32 2.21 0 1.51.81 2.14 2.11 2.61l.42.18c.77.33 1.23.53 1.23 1.13 0 .48-.42.81-1.13.81-.77 0-1.21-.35-1.61-1.03l-1.29.74zm-5.8-8.09h2.76V20h2.02V9.77h2.78V8H7.91v1.77z"/></svg>'
  },

  // Middle orbit - Backend & Tools
  {
    name: 'Node.js',
    orbit: 2,
    speed: 15,
    color: '#339933',
    svg: '<svg viewBox="0 0 24 24" fill="#339933"><path d="M11.998 24c-.321 0-.641-.084-.922-.247l-2.936-1.737c-.438-.245-.224-.332-.08-.383.585-.203.703-.25 1.328-.604.065-.037.151-.023.218.017l2.256 1.339c.082.045.197.045.272 0l8.795-5.076c.082-.047.134-.141.134-.238V6.921c0-.099-.053-.192-.137-.242l-8.791-5.072c-.081-.047-.189-.047-.271 0L3.075 6.68c-.085.05-.139.146-.139.24v10.15c0 .097.054.19.139.237l2.409 1.392c1.307.654 2.108-.116 2.108-0.89V7.787c0-.142.114-.253.256-.253h1.115c.139 0 .255.112.255.253v10.021c0 1.745-.95 2.745-2.604 2.745-.508 0-.909 0-2.026-.551L2.28 18.675c-.57-.329-.922-.944-.922-1.604V6.921c0-.659.353-1.275.922-1.603l8.795-5.082c.557-.315 1.296-.315 1.848 0l8.794 5.082c.57.329.924.944.924 1.603v10.15c0 .659-.354 1.276-.924 1.604l-8.794 5.078c-.28.163-.599.247-.925.247zm7.107-11.405c0-1.934-1.308-2.447-4.064-2.811-2.777-.366-3.058-.555-3.058-1.205 0-.539.235-1.26 2.27-1.26 1.82 0 2.494.393 2.771 1.618.024.107.113.186.221.186h1.141c.063 0 .124-.026.169-.07.046-.046.071-.107.065-.173-.155-1.844-1.368-2.701-4.367-2.701-2.497 0-3.986.96-3.986 2.775 0 1.962 1.519 2.508 3.965 2.749 2.922.287 3.157.716 3.157 1.288 0 .998-.803 1.423-2.695 1.423-2.377 0-2.915-.595-3.089-1.777-.016-.105-.099-.182-.204-.182h-1.143c-.117 0-.211.095-.211.211v.024c0 1.225.667 2.684 4.647 2.684 2.791 0 4.412-1.097 4.412-3.008z"/></svg>'
  },
  {
    name: 'Python',
    orbit: 2,
    speed: 12,
    color: '#3776AB',
    svg: '<svg viewBox="0 0 24 24" fill="#3776AB"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"/></svg>'
  },
  {
    name: 'Docker',
    orbit: 2,
    speed: 14,
    color: '#2496ED',
    svg: '<svg viewBox="0 0 24 24" fill="#2496ED"><path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338 0-.676.03-1.01.087-.306-1.214-1.29-2.257-2.825-3.104l-.575-.325-.45.565c-.446.56-.694 1.36-.735 2.163-.036.706.089 1.416.376 2.05-.172.105-.354.18-.538.255-.446.15-.93.225-1.44.225H.16L.14 11.54c-.032.66.098 1.542.346 2.334.49 1.614 1.482 2.766 2.948 3.426 1.166.525 2.385.773 3.663.773 1.01 0 2.01-.11 2.963-.327 1.304-.298 2.496-.847 3.544-1.63 1.27-0.945 2.232-2.19 2.854-3.693.695.036 1.424-.164 1.962-.51.566-.368.932-.953 1.104-1.724zm-1.776-.03c-.06 0-.12.005-.18.015-.23-1.15-1.214-2.105-2.685-2.616l-.575-.205-.367.542c-.43.636-.62 1.356-.622 2.103-.002.682.13 1.335.386 1.928-.4.163-.823.224-1.263.224H.16L.14 11.54c-.032.66.098 1.542.346 2.334.49 1.614 1.482 2.766 2.948 3.426 1.166.525 2.385.773 3.663.773 1.01 0 2.01-.11 2.963-.327 1.304-.298 2.496-.847 3.544-1.63 1.27-0.945 2.232-2.19 2.854-3.693.695.036 1.424-.164 1.962-.51.566-.368.932-.953 1.104-1.724z"/></svg>'
  },
  {
    name: 'MongoDB',
    orbit: 2,
    speed: 16,
    color: '#47A248',
    svg: '<svg viewBox="0 0 24 24" fill="#47A248"><path d="M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z"/></svg>'
  },

  // Outer orbit - Cloud & DevOps
  {
    name: 'AWS',
    orbit: 3,
    speed: 10,
    color: '#FF9900',
    svg: '<svg viewBox="0 0 24 24" fill="#FF9900"><path d="M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 01-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 01-.287-.375 6.18 6.18 0 01-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.226.726-1.643.487-.417 1.133-.625 1.955-.625.272 0 .551.024.863.064.313.04.635.104.97.176v-.583c0-.607-.127-1.031-.375-1.277-.255-.246-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 01-.28.104.488.488 0 01-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 01.224-.167c.279-.144.614-.264 1.005-.36C2.096 4.95 2.52 4.902 2.985 4.902c1.005 0 1.739.229 2.213.684.463.456.695 1.149.695 2.087v2.754zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.695V9.14a7.832 7.832 0 00-.775-.136 6.513 6.513 0 00-.775-.047c-.543 0-.95.104-1.229.32-.271.215-.415.518-.415.917 0 .375.095.655.295.846.191.2.47.296.838.296l.128-.007zm6.43.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 01-.072-.32c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 01.32-.08h.638c.152 0 .256.025.32.08.063.048.119.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 01.311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 01-.056.2l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 01-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.151-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08h-.686zm10.096.238c-.407 0-.815-.048-1.197-.135-.383-.088-.68-.184-.863-.28a.589.589 0 01-.28-.527v-.407c0-.168.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 00.415-.758.777.777 0 00-.215-.559c-.144-.151-.415-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.902 1.902 0 01-.4-1.158c0-.335.073-.63.215-.893.144-.264.335-.486.575-.67.239-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 01.24.2.43.43 0 01.071.263v.375c0 .168-.063.255-.183.255a.83.83 0 01-.303-.096 3.652 3.652 0 00-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.71 0 .224.08.416.24.567.159.152.454.304.877.44l1.134.351c.574.183.99.438 1.237.767.247.329.367.696.367 1.117 0 .343-.072.655-.207.926a2.042 2.042 0 01-.583.717 2.691 2.691 0 01-.862.455c-.336.104-.719.152-1.142.152z"/></svg>'
  },
  {
    name: 'Git',
    orbit: 3,
    speed: 11,
    color: '#F05032',
    svg: '<svg viewBox="0 0 24 24" fill="#F05032"><path d="M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"/></svg>'
  },
  {
    name: 'Figma',
    orbit: 3,
    speed: 9,
    color: '#F24E1E',
    svg: '<svg viewBox="0 0 24 24" fill="#F24E1E"><path d="M15.852 8.981h-4.588V0h4.588c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.491-4.49 4.491zM12.735 7.51h3.117c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-3.117V7.51zm0 1.471H8.148c-2.476 0-4.49-2.014-4.49-4.49S5.672 0 8.148 0h4.588v8.981zm-4.587-7.51c-1.665 0-3.019 1.355-3.019 3.019s1.354 3.02 3.019 3.02h3.117V1.471H8.148zm4.587 15.019H8.148c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h4.588v8.98zM8.148 8.981c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h3.117V8.981H8.148zM8.172 24c-2.489 0-4.515-2.014-4.515-4.49s2.014-4.49 4.49-4.49h4.588v4.441c0 2.503-2.047 4.539-4.563 4.539zm-.024-7.51a3.023 3.023 0 0 0-3.019 3.019c0 1.665 1.365 3.019 3.044 3.019 1.705 0 3.093-1.376 3.093-3.068v-2.97H8.148zm7.704 0h-.098c-2.476 0-4.49-2.014-4.49-4.49s2.014-4.49 4.49-4.49h.098c2.476 0 4.49 2.014 4.49 4.49s-2.014 4.49-4.49 4.49zm-.097-7.509c-1.665 0-3.019 1.355-3.019 3.019s1.355 3.019 3.019 3.019h.098c1.665 0 3.019-1.355 3.019-3.019s-1.355-3.019-3.019-3.019h-.098z"/></svg>'
  },
  {
    name: 'PostgreSQL',
    orbit: 3,
    speed: 13,
    color: '#4169E1',
    svg: '<svg viewBox="0 0 24 24" fill="#4169E1"><path d="M17.128 0c-.316 0-.617.026-.903.08-2.988.535-3.049 3.371-3.049 3.371l.006 1.309h3.113v.439H11.95c-1.813 0-3.403 1.091-3.899 3.168-.575 2.389-.601 3.876 0 6.395.445 1.871 1.509 3.199 3.321 3.199h2.146v-2.854c0-2.058 1.782-3.873 3.898-3.873h3.098c1.727 0 3.105-1.423 3.105-3.155V3.197c0-1.682-1.417-2.946-3.104-3.117-.323-.033-.648-.08-.972-.08h-.415zm-1.685 1.8c.648 0 1.171.53 1.171 1.184 0 .652-.523 1.18-1.171 1.18-.648 0-1.171-.528-1.171-1.18 0-.654.523-1.185 1.171-1.185zM6.872 8.838c-1.812 0-2.876 1.328-3.321 3.199-.601 2.52-.575 4.007 0 6.395.429 1.785 1.509 3.168 3.321 3.168h2.146v-2.848c0-2.028-1.727-3.879-3.898-3.879H2.022v-.438h7.199c1.725 0 3.104-1.428 3.104-3.16V9.388c0-1.683-1.417-2.997-3.104-3.117-.323-.033-.648-.08-.972-.08H6.872zm-.586 10.055c.648 0 1.171.529 1.171 1.18 0 .654-.523 1.184-1.171 1.184-.648 0-1.171-.53-1.171-1.184 0-.651.523-1.18 1.171-1.18z"/></svg>'
  }
];

export default function TechOrbit() {
  const { t } = useTranslation();
  const [rotation, setRotation] = useState(0);
  const [hoveredTech, setHoveredTech] = useState(null);
  const orbitRef = useRef(null);
  const animationRef = useRef(null);

  useEffect(() => {
    let lastTime = Date.now();

    const animate = () => {
      const currentTime = Date.now();
      const delta = (currentTime - lastTime) / 1000;
      lastTime = currentTime;

      setRotation(prev => prev + delta * 5);
      animationRef.current = requestAnimationFrame(animate);
    };

    animationRef.current = requestAnimationFrame(animate);

    return () => {
      if (animationRef.current) {
        cancelAnimationFrame(animationRef.current);
      }
    };
  }, []);

  const getOrbitRadius = orbit => {
    const baseRadius = 120;
    return baseRadius * orbit;
  };

  const getTechPosition = (tech, index, sameOrbitCount) => {
    const radius = getOrbitRadius(tech.orbit);
    const baseAngle = (360 / sameOrbitCount) * index;
    const angle = baseAngle + rotation * tech.speed;
    const radian = (angle * Math.PI) / 180;

    return {
      x: Math.cos(radian) * radius,
      y: Math.sin(radian) * radius,
      angle: angle
    };
  };

  const groupedByOrbit = techStack.reduce((acc, tech) => {
    if (!acc[tech.orbit]) acc[tech.orbit] = [];
    acc[tech.orbit].push(tech);
    return acc;
  }, {});

  return (
    <section className='tech-orbit'>
      <div className='container'>
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          whileInView={{ opacity: 1, y: 0 }}
          viewport={{ once: true }}
          transition={{ duration: 0.8 }}
          className='tech-orbit__content'
        >
          <h2 className='tech-orbit__title'>{t('techOrbit.title')}</h2>
          <p className='tech-orbit__subtitle'>{t('techOrbit.subtitle')}</p>

          <div className='tech-orbit__wrapper' ref={orbitRef}>
            {/* Center Core with Logo */}
            <motion.div
              className='tech-orbit__core'
              animate={{
                scale: [1, 1.05, 1],
                boxShadow: [
                  '0 0 40px rgba(122, 51, 255, 0.4)',
                  '0 0 60px rgba(122, 51, 255, 0.6)',
                  '0 0 40px rgba(122, 51, 255, 0.4)'
                ]
              }}
              transition={{ duration: 3, repeat: Infinity, ease: 'easeInOut' }}
            >
              <img src={logo} alt='NVG Logo' className='tech-orbit__logo' />
            </motion.div>

            {/* Orbit Rings */}
            {[1, 2, 3].map(orbit => (
              <div
                key={orbit}
                className='tech-orbit__ring'
                style={{
                  width: `${getOrbitRadius(orbit) * 2}px`,
                  height: `${getOrbitRadius(orbit) * 2}px`
                }}
              />
            ))}

            {/* Tech Items */}
            {Object.entries(groupedByOrbit).map(([orbit, techs]) =>
              techs.map((tech, index) => {
                const pos = getTechPosition(tech, index, techs.length);
                const isHovered = hoveredTech === tech.name;

                return (
                  <motion.div
                    key={tech.name}
                    className={`tech-orbit__item ${
                      isHovered ? 'tech-orbit__item--hovered' : ''
                    }`}
                    style={{
                      left: '50%',
                      top: '50%',
                      transform: `translate(calc(-50% + ${pos.x}px), calc(-50% + ${pos.y}px))`
                    }}
                    onMouseEnter={() => setHoveredTech(tech.name)}
                    onMouseLeave={() => setHoveredTech(null)}
                    whileHover={{ scale: 1.3, zIndex: 10 }}
                  >
                    <div
                      className='tech-orbit__item-inner'
                      style={{ '--tech-color': tech.color }}
                    >
                      <div
                        className='tech-orbit__icon'
                        dangerouslySetInnerHTML={{ __html: tech.svg }}
                      />
                      {isHovered && (
                        <motion.div
                          initial={{ opacity: 0, y: 10 }}
                          animate={{ opacity: 1, y: 0 }}
                          className='tech-orbit__label'
                        >
                          {tech.name}
                        </motion.div>
                      )}
                    </div>
                  </motion.div>
                );
              })
            )}

            {/* Particles */}
            <div className='tech-orbit__particles'>
              {[...Array(20)].map((_, i) => (
                <div
                  key={i}
                  className='tech-orbit__particle'
                  style={{
                    left: `${Math.random() * 100}%`,
                    top: `${Math.random() * 100}%`,
                    animationDelay: `${Math.random() * 3}s`,
                    animationDuration: `${3 + Math.random() * 2}s`
                  }}
                />
              ))}
            </div>
          </div>
        </motion.div>
      </div>
    </section>
  );
}
